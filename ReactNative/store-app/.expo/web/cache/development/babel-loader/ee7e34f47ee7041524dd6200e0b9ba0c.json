{"ast":null,"code":"import React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Loading from \"../../components/Loading\";\nimport Error from \"../../components/Error\";\nimport ProductCard from \"../../components/ProductCard\";\nimport useFetch from \"../../hooks/useFetch\";\nimport { useSelector } from \"react-redux\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Products = function Products(_ref) {\n  var navigation = _ref.navigation;\n  var user = useSelector(function (s) {\n    return s.user;\n  });\n  var _useFetch = useFetch(process && process.env && process.env.API_PRODUCT_URL || undefined),\n    loading = _useFetch.loading,\n    data = _useFetch.data,\n    error = _useFetch.error;\n  var handleProductSelect = function handleProductSelect(id) {\n    navigation.navigate(\"DetailPage\", {\n      id: id\n    });\n  };\n  var renderProduct = function renderProduct(_ref2) {\n    var item = _ref2.item;\n    return _jsx(ProductCard, {\n      product: item,\n      onSelect: function onSelect() {\n        return handleProductSelect(item.id);\n      }\n    });\n  };\n  if (loading) {\n    return _jsx(Loading, {});\n  }\n  if (error) {\n    return _jsxs(_Fragment, {\n      children: [_jsx(Error, {}), _jsx(Text, {\n        children: error\n      })]\n    });\n  }\n  return _jsx(View, {\n    children: _jsx(FlatList, {\n      data: data && data,\n      renderItem: renderProduct\n    })\n  });\n};\nexport default Products;","map":{"version":3,"names":["React","Loading","Error","ProductCard","useFetch","useSelector","Products","navigation","user","s","loading","data","error","handleProductSelect","id","navigate","renderProduct","item"],"sources":["/home/utku/Desktop/patika/ReactNative/kodwork/src/pages/Products/Products.js"],"sourcesContent":["import React from \"react\";\nimport { View, Text, FlatList } from \"react-native\";\n\nimport Loading from \"../../components/Loading\";\nimport Error from \"../../components/Error\";\nimport ProductCard from \"../../components/ProductCard\";\n\nimport useFetch from \"../../hooks/useFetch\";\nimport { useSelector } from \"react-redux\";\n\nconst Products = ({ navigation }) => {\n  const user = useSelector((s) => s.user);\n  const { loading, data, error } = useFetch(process.env.API_PRODUCT_URL);\n\n  const handleProductSelect = (id) => {\n    navigation.navigate(\"DetailPage\", { id });\n  };\n\n  const renderProduct = ({ item }) => (\n    <ProductCard product={item} onSelect={() => handleProductSelect(item.id)} />\n  );\n\n  // loading\n  if (loading) {\n    return <Loading />;\n  }\n\n  //error\n  if (error) {\n    return (\n      <>\n        <Error />\n        <Text>{error}</Text>\n      </>\n    );\n  }\n\n  return (\n    <View>\n      {/* <Text>Hello: {user.name.firstname}</Text> */}\n      <FlatList data={data && data} renderItem={renderProduct} />\n    </View>\n  );\n};\n\nexport default Products;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAAC;AAAA;AAAA;AAG1B,OAAOC,OAAO;AACd,OAAOC,KAAK;AACZ,OAAOC,WAAW;AAElB,OAAOC,QAAQ;AACf,SAASC,WAAW,QAAQ,aAAa;AAAC;AAAA;AAAA;AAE1C,IAAMC,QAAQ,GAAG,SAAXA,QAAQ,OAAuB;EAAA,IAAjBC,UAAU,QAAVA,UAAU;EAC5B,IAAMC,IAAI,GAAGH,WAAW,CAAC,UAACI,CAAC;IAAA,OAAKA,CAAC,CAACD,IAAI;EAAA,EAAC;EACvC,gBAAiCJ,QAAQ,oEAA6B;IAA9DM,OAAO,aAAPA,OAAO;IAAEC,IAAI,aAAJA,IAAI;IAAEC,KAAK,aAALA,KAAK;EAE5B,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmB,CAAIC,EAAE,EAAK;IAClCP,UAAU,CAACQ,QAAQ,CAAC,YAAY,EAAE;MAAED,EAAE,EAAFA;IAAG,CAAC,CAAC;EAC3C,CAAC;EAED,IAAME,aAAa,GAAG,SAAhBA,aAAa;IAAA,IAAMC,IAAI,SAAJA,IAAI;IAAA,OAC3B,KAAC,WAAW;MAAC,OAAO,EAAEA,IAAK;MAAC,QAAQ,EAAE;QAAA,OAAMJ,mBAAmB,CAACI,IAAI,CAACH,EAAE,CAAC;MAAA;IAAC,EAAG;EAAA,CAC7E;EAGD,IAAIJ,OAAO,EAAE;IACX,OAAO,KAAC,OAAO,KAAG;EACpB;EAGA,IAAIE,KAAK,EAAE;IACT,OACE;MAAA,WACE,KAAC,KAAK,KAAG,EACT,KAAC,IAAI;QAAA,UAAEA;MAAK,EAAQ;IAAA,EACnB;EAEP;EAEA,OACE,KAAC,IAAI;IAAA,UAEH,KAAC,QAAQ;MAAC,IAAI,EAAED,IAAI,IAAIA,IAAK;MAAC,UAAU,EAAEK;IAAc;EAAG,EACtD;AAEX,CAAC;AAED,eAAeV,QAAQ"},"metadata":{},"sourceType":"module"}